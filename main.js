/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var crypto = __toESM(require("crypto"));
var MyPlugin = class extends import_obsidian.Plugin {
  async onload() {
    this.addCommand({
      id: "rename-note-images",
      name: "\u91CD\u547D\u540D\u7B14\u8BB0\u4E2D\u7684\u56FE\u7247",
      icon: "image-plus",
      // 使用 Lucide 图标
      callback: async () => {
        const activeView = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
        if (activeView) {
          const file = activeView.file;
          if (file) {
            await this.updateAllImageNameAndLinksInNote(file, file.path, file.path);
            new import_obsidian.Notice("\u56FE\u7247\u91CD\u547D\u540D\u5B8C\u6210\uFF01");
          }
        } else {
          new import_obsidian.Notice("\u8BF7\u5148\u6253\u5F00\u4E00\u4E2A\u7B14\u8BB0\u6587\u4EF6\uFF01");
        }
      }
    });
    this.registerEvent(
      this.app.vault.on("create", (file) => {
        if (file instanceof import_obsidian.TFile && this.isImageFile(file)) {
          this.renameImageFile(file);
        }
      })
    );
    this.registerEvent(
      this.app.vault.on("rename", (file, oldPath) => {
        if (file instanceof import_obsidian.TFile && file.extension === "md") {
          this.updateAllImageNameAndLinksInNote(file, oldPath, file.path);
        }
      })
    );
  }
  // 更新笔记中的所有图片链接
  async updateAllImageNameAndLinksInNote(note, oldFileName, newFileName) {
    const content = await this.app.vault.read(note);
    const imageRegex = /!\[.*?\]\((.*)\)/g;
    let imageUrlMatches = [...content.matchAll(imageRegex)];
    const validImageExtensions = [".jpg", ".jpeg", ".png", ".gif", ".webp", ".svg"];
    console.log("\u{1F5BC}\uFE0F \u7B14\u8BB0\u4E2D\u7684\u6240\u6709\u56FE\u7247\u94FE\u63A5:");
    imageUrlMatches.forEach((match, index) => {
      const imageUrl = match[1];
      const isValidImage = validImageExtensions.some(
        (ext) => imageUrl.toLowerCase().endsWith(ext)
      );
      if (isValidImage) {
        console.log(`  ${index + 1}. ${imageUrl}`);
      } else {
        console.log(`  \u26A0\uFE0F ${index + 1}. ${imageUrl} (\u4E0D\u652F\u6301\u7684\u56FE\u7247\u683C\u5F0F)`);
      }
    });
    let decodedImageLinks = [];
    imageUrlMatches.forEach((match) => {
      const imageUrl = match[1];
      const decodedUrl = decodeURIComponent(imageUrl);
      decodedImageLinks.push(decodedUrl);
    });
    console.log("\u{1F525}decodedImageLinks\uFF1A", decodedImageLinks);
    let newImageLinks = [];
    decodedImageLinks.forEach((imageUrl) => {
      const extension = imageUrl.split(".").pop() || "";
      const fileName = imageUrl.split("/").pop() || "";
      const hash = this.generateHash(fileName + Date.now());
      const newFileName2 = `${note.basename}_${hash}.${extension}`;
      newImageLinks.push(newFileName2);
    });
    console.log("\u{1F525}\u6784\u9020\u7684\u65B0\u56FE\u7247\u6587\u4EF6\u540D\uFF1A", newImageLinks);
    let updatedContent = await this.app.vault.read(note);
    for (let i = 0; i < decodedImageLinks.length; i++) {
      const imageUrl = decodedImageLinks[i];
      const file = this.app.vault.getAbstractFileByPath(imageUrl);
      if (file instanceof import_obsidian.TFile) {
        const attachmentsFolder = this.getAttachmentsFolder();
        const newPath = (0, import_obsidian.normalizePath)(`${attachmentsFolder}/${newImageLinks[i]}`);
        const encodedNewPath = newPath.replace(/ /g, "%20");
        await this.app.vault.rename(file, newPath);
        const originalUrl = imageUrlMatches[i][1];
        updatedContent = updatedContent.replace(originalUrl, encodedNewPath);
        console.log(`\u{1F504} \u56FE\u7247\u91CD\u547D\u540D: ${originalUrl} -> ${encodedNewPath}`);
      }
    }
    await this.app.vault.modify(note, updatedContent);
  }
  // 检查文件是否是图片
  isImageFile(file) {
    const imageExtensions = ["png", "jpg", "jpeg", "gif", "bmp", "webp"];
    return imageExtensions.includes(file.extension);
  }
  // 重命名图片文件
  async renameImageFile(file) {
    const attachmentsFolder = this.getAttachmentsFolder();
    console.log("\u{1F525}attachmentsFolder\uFF1A", attachmentsFolder);
    if (!file.path.startsWith(attachmentsFolder)) {
      return;
    }
    console.log("\u{1F525}file\uFF1A", file);
    const activeFile = this.app.workspace.getActiveFile();
    if (!activeFile) {
      return;
    }
    console.log("\u{1F525}\u7B14\u8BB0\u7684activeFile\uFF1A", activeFile);
    const noteName = activeFile.basename;
    const oldFileName = file.name;
    console.log("\u{1F525}\u6587\u4EF6\u7684\u65E7\u540D\u5B57\uFF1A", oldFileName);
    console.log("\u{1F525}\u7B14\u8BB0\u7684\u540D\u5B57\uFF1A", noteName);
    const hash = this.generateHash(file.name + Date.now());
    const newFileName = `${noteName}_${hash}.${file.extension}`;
    console.log("\u{1F525}newFileName\uFF1A", newFileName);
    const newPath = (0, import_obsidian.normalizePath)(`${attachmentsFolder}/${newFileName}`);
    await this.app.vault.rename(file, newPath);
    console.log("\u{1F525}newPath\uFF1A", newPath);
    await this.updateImageLink(activeFile, oldFileName, newFileName);
    new import_obsidian.Notice(`\u56FE\u7247\u94FE\u63A5\u66F4\u65B0\u4E3A\uFF1A${newFileName}`);
  }
  // 获取 attachments 文件夹路径
  getAttachmentsFolder() {
    const attachmentsFolder = this.app.vault.getConfig("attachmentFolderPath") || "attachments";
    return (0, import_obsidian.normalizePath)(attachmentsFolder);
  }
  // 生成 8 位哈希值
  generateHash(input) {
    return crypto.createHash("md5").update(input).digest("hex").slice(0, 8);
  }
  async updateImageLink(note, oldFileName, newFileName) {
    console.log(`\u{1F50D} \u5F00\u59CB\u66F4\u65B0\u7B14\u8BB0 (${note.path})\uFF0C\u65E7\u6587\u4EF6\u540D: ${oldFileName}, \u65B0\u6587\u4EF6\u540D: ${newFileName}`);
    oldFileName = oldFileName.replace(/ /g, "%20");
    let foundMatch = false;
    let attempts = 0;
    let content = await this.app.vault.read(note);
    console.log("\u{1F4C4} \u8BFB\u53D6\u7B14\u8BB0\u5185\u5BB9:\n", content);
    const start = Date.now();
    while (attempts < 100) {
      if (content.includes(oldFileName)) {
        foundMatch = true;
        const end = Date.now();
        console.log(`\u{1F552} \u66F4\u65B0\u7B14\u8BB0\u94FE\u63A5\u7528\u65F6: ${(end - start) / 1e3} \u79D2`);
        break;
      }
      console.log(`\u23F3 \u7B49\u5F85\u56FE\u7247\u94FE\u63A5\u751F\u6210... \u5C1D\u8BD5 ${attempts + 1}`);
      await new Promise((resolve) => setTimeout(resolve, 50));
      content = await this.app.vault.read(note);
      attempts++;
      console.log("\u{1F4C4} \u8BFB\u53D6\u7B14\u8BB0\u5185\u5BB9:\n", content);
    }
    if (foundMatch) {
      console.log("\u270F\uFE0F \u66F4\u65B0 Markdown \u4E2D\u7684\u56FE\u7247\u94FE\u63A5...");
      const updatedContent = content.replace(oldFileName, newFileName);
      await this.app.vault.modify(note, updatedContent);
      console.log("\u2705 \u56FE\u7247\u5F15\u7528\u66F4\u65B0\u5B8C\u6210");
    } else {
      console.log("\u274C \u56FE\u7247\u94FE\u63A5\u672A\u751F\u6210\uFF0C\u8DF3\u8FC7\u66F4\u65B0");
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBURmlsZSwgbm9ybWFsaXplUGF0aH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0ICogYXMgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNeVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdC8vIFx1NkRGQlx1NTJBMFx1OTFDRFx1NTQ3RFx1NTQwRFx1NTZGRVx1NzI0N1x1NzY4NFx1NTQ3RFx1NEVFNFxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ3JlbmFtZS1ub3RlLWltYWdlcycsXG5cdFx0XHRuYW1lOiAnXHU5MUNEXHU1NDdEXHU1NDBEXHU3QjE0XHU4QkIwXHU0RTJEXHU3Njg0XHU1NkZFXHU3MjQ3Jyxcblx0XHRcdGljb246ICdpbWFnZS1wbHVzJywgIC8vIFx1NEY3Rlx1NzUyOCBMdWNpZGUgXHU1NkZFXHU2ODA3XG5cdFx0XHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRjb25zdCBhY3RpdmVWaWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcblx0XHRcdFx0aWYgKGFjdGl2ZVZpZXcpIHtcblx0XHRcdFx0XHRjb25zdCBmaWxlID0gYWN0aXZlVmlldy5maWxlO1xuXHRcdFx0XHRcdGlmIChmaWxlKSB7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnVwZGF0ZUFsbEltYWdlTmFtZUFuZExpbmtzSW5Ob3RlKGZpbGUsIGZpbGUucGF0aCwgZmlsZS5wYXRoKTtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoJ1x1NTZGRVx1NzI0N1x1OTFDRFx1NTQ3RFx1NTQwRFx1NUI4Q1x1NjIxMFx1RkYwMScpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdcdThCRjdcdTUxNDhcdTYyNTNcdTVGMDBcdTRFMDBcdTRFMkFcdTdCMTRcdThCQjBcdTY1ODdcdTRFRjZcdUZGMDEnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gXHU3NkQxXHU1NDJDXHU2NTg3XHU0RUY2XHU1MjFCXHU1RUZBXHU0RThCXHU0RUY2XG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudChcbiAgICAgICAgICAgIHRoaXMuYXBwLnZhdWx0Lm9uKCdjcmVhdGUnLCAoZmlsZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgdGhpcy5pc0ltYWdlRmlsZShmaWxlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmFtZUltYWdlRmlsZShmaWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG5cdFx0Ly8gXHU3NkQxXHU1NDJDXHU2NTg3XHU0RUY2XHU5MUNEXHU1NDdEXHU1NDBEXHU0RThCXHU0RUY2XG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxuXHRcdFx0dGhpcy5hcHAudmF1bHQub24oJ3JlbmFtZScsIChmaWxlLCBvbGRQYXRoKSA9PiB7XG5cdFx0XHRcdC8vIFx1NjhDMFx1NkQ0Qlx1NjU4N1x1NEVGNlx1NEUzQW1kXHU1NDBFXHU3RjAwXG5cdFx0XHRcdGlmIChmaWxlIGluc3RhbmNlb2YgVEZpbGUgJiYgZmlsZS5leHRlbnNpb24gPT09ICdtZCcpIHtcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZUFsbEltYWdlTmFtZUFuZExpbmtzSW5Ob3RlKGZpbGUsb2xkUGF0aCxmaWxlLnBhdGgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdCk7XG5cdH1cblxuXHQvLyBcdTY2RjRcdTY1QjBcdTdCMTRcdThCQjBcdTRFMkRcdTc2ODRcdTYyNDBcdTY3MDlcdTU2RkVcdTcyNDdcdTk0RkVcdTYzQTVcblx0YXN5bmMgdXBkYXRlQWxsSW1hZ2VOYW1lQW5kTGlua3NJbk5vdGUobm90ZTogVEZpbGUsIG9sZEZpbGVOYW1lOiBzdHJpbmcsIG5ld0ZpbGVOYW1lOiBzdHJpbmcpIHtcblx0XHQvLyBcdTgzQjdcdTUzRDZcdTdCMTRcdThCQjBcdTUxODVcdTVCQjlcblx0XHRjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChub3RlKTtcblx0XHQvLyBcdTRGN0ZcdTc1MjhcdTZCNjNcdTUyMTlcdTg4NjhcdThGQkVcdTVGMEZcdTUzMzlcdTkxNERNYXJrZG93blx1NTZGRVx1NzI0N1x1OTRGRVx1NjNBNVxuXHRcdGNvbnN0IGltYWdlUmVnZXggPSAvIVxcWy4qP1xcXVxcKCguKilcXCkvZztcblx0XHQvLyBcdTUzMzlcdTkxNERcdTUyMzBcdTc2ODRcdTYyNDBcdTY3MDlcdTU2RkVcdTcyNDdcdTk0RkVcdTYzQTVcblx0XHRsZXQgaW1hZ2VVcmxNYXRjaGVzID0gWy4uLmNvbnRlbnQubWF0Y2hBbGwoaW1hZ2VSZWdleCldO1xuXHRcdFxuXHRcdC8vIFx1NUI5QVx1NEU0OVx1NjUyRlx1NjMwMVx1NzY4NFx1NTZGRVx1NzI0N1x1NjgzQ1x1NUYwRlxuXHRcdGNvbnN0IHZhbGlkSW1hZ2VFeHRlbnNpb25zID0gWycuanBnJywgJy5qcGVnJywgJy5wbmcnLCAnLmdpZicsICcud2VicCcsICcuc3ZnJ107XG5cdFx0XG5cdFx0Ly8gXHU2MjUzXHU1MzcwXHU2MjdFXHU1MjMwXHU3Njg0XHU2MjQwXHU2NzA5XHU1NkZFXHU3MjQ3XHU5NEZFXHU2M0E1XG5cdFx0Y29uc29sZS5sb2coXCJcdUQ4M0RcdUREQkNcdUZFMEYgXHU3QjE0XHU4QkIwXHU0RTJEXHU3Njg0XHU2MjQwXHU2NzA5XHU1NkZFXHU3MjQ3XHU5NEZFXHU2M0E1OlwiKTtcblx0XHRpbWFnZVVybE1hdGNoZXMuZm9yRWFjaCgobWF0Y2gsIGluZGV4KSA9PiB7XG5cdFx0XHRjb25zdCBpbWFnZVVybCA9IG1hdGNoWzFdO1xuXHRcdFx0Y29uc3QgaXNWYWxpZEltYWdlID0gdmFsaWRJbWFnZUV4dGVuc2lvbnMuc29tZShleHQgPT4gXG5cdFx0XHRcdGltYWdlVXJsLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoZXh0KVxuXHRcdFx0KTtcblx0XHRcdFxuXHRcdFx0aWYgKGlzVmFsaWRJbWFnZSkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgICAke2luZGV4ICsgMX0uICR7aW1hZ2VVcmx9YCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgICBcdTI2QTBcdUZFMEYgJHtpbmRleCArIDF9LiAke2ltYWdlVXJsfSAoXHU0RTBEXHU2NTJGXHU2MzAxXHU3Njg0XHU1NkZFXHU3MjQ3XHU2ODNDXHU1RjBGKWApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdC8vIFx1NUMwNlx1OTRGRVx1NjNBNVx1NEUyRFx1NzY4NCAlMjAgXHU4RjZDXHU2MzYyXHU0RTNBXHU3QTdBXHU2ODNDXG5cdFx0bGV0IGRlY29kZWRJbWFnZUxpbmtzOiBzdHJpbmdbXSA9IFtdO1xuXHRcdGltYWdlVXJsTWF0Y2hlcy5mb3JFYWNoKG1hdGNoID0+IHtcblx0XHRcdGNvbnN0IGltYWdlVXJsID0gbWF0Y2hbMV07XG5cdFx0XHRjb25zdCBkZWNvZGVkVXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KGltYWdlVXJsKTtcblx0XHRcdGRlY29kZWRJbWFnZUxpbmtzLnB1c2goZGVjb2RlZFVybCk7XG5cdFx0fSk7XG5cdFx0Y29uc29sZS5sb2coXCJcdUQ4M0RcdUREMjVkZWNvZGVkSW1hZ2VMaW5rc1x1RkYxQVwiLGRlY29kZWRJbWFnZUxpbmtzKVxuXHRcdFxuXHRcdC8vIFx1Njc4NFx1OTAyMFx1NTZGRVx1NzI0N1x1NzY4NFx1NjVCMFx1NjU4N1x1NEVGNlx1NTQwRFxuXHRcdGxldCBuZXdJbWFnZUxpbmtzOiBzdHJpbmdbXSA9IFtdO1xuXHRcdGRlY29kZWRJbWFnZUxpbmtzLmZvckVhY2goaW1hZ2VVcmwgPT4ge1xuXHRcdFx0Ly8gXHU4M0I3XHU1M0Q2XHU2NTg3XHU0RUY2XHU2MjY5XHU1QzU1XHU1NDBEXG5cdFx0XHRjb25zdCBleHRlbnNpb24gPSBpbWFnZVVybC5zcGxpdCgnLicpLnBvcCgpIHx8ICcnO1xuXHRcdFx0Ly8gXHU0RUNFaW1hZ2VVcmxcdTRFMkRcdTYzRDBcdTUzRDZcdTY1ODdcdTRFRjZcdTU0MERcblx0XHRcdGNvbnN0IGZpbGVOYW1lID0gaW1hZ2VVcmwuc3BsaXQoJy8nKS5wb3AoKSB8fCAnJztcblx0XHRcdC8vIFx1NzUxRlx1NjIxMFx1NjVCMFx1NzY4NFx1NTRDOFx1NUUwQ1x1NTAzQ1xuXHRcdFx0Y29uc3QgaGFzaCA9IHRoaXMuZ2VuZXJhdGVIYXNoKGZpbGVOYW1lICsgRGF0ZS5ub3coKSk7XG5cdFx0XHQvLyBcdTY3ODRcdTkwMjBcdTY1QjBcdTc2ODRcdTY1ODdcdTRFRjZcdTU0MERcdUZGMENcdTRGN0ZcdTc1MjhcdTY1QjBcdTdCMTRcdThCQjBcdTU0MERcblx0XHRcdGNvbnN0IG5ld0ZpbGVOYW1lID0gYCR7bm90ZS5iYXNlbmFtZX1fJHtoYXNofS4ke2V4dGVuc2lvbn1gO1xuXHRcdFx0bmV3SW1hZ2VMaW5rcy5wdXNoKG5ld0ZpbGVOYW1lKTtcblx0XHR9KTtcblx0XHRcblx0XHRjb25zb2xlLmxvZyhcIlx1RDgzRFx1REQyNVx1Njc4NFx1OTAyMFx1NzY4NFx1NjVCMFx1NTZGRVx1NzI0N1x1NjU4N1x1NEVGNlx1NTQwRFx1RkYxQVwiLCBuZXdJbWFnZUxpbmtzKTtcblxuXHRcdFxuXHRcdC8vIFx1NUMwNlx1OTY0NFx1NEVGNlx1NjU4N1x1NEVGNlx1NTkzOVx1NEUyRFx1NzY4NFx1NTZGRVx1NzI0N1x1OTRGRVx1NjNBNVx1OTFDRFx1NTQ3RFx1NTQwRFxuXHRcdGxldCB1cGRhdGVkQ29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQobm90ZSk7XG5cdFx0XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkZWNvZGVkSW1hZ2VMaW5rcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgaW1hZ2VVcmwgPSBkZWNvZGVkSW1hZ2VMaW5rc1tpXTtcblx0XHRcdGNvbnN0IGZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoaW1hZ2VVcmwpO1xuXHRcdFx0aWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xuXHRcdFx0XHRjb25zdCBhdHRhY2htZW50c0ZvbGRlciA9IHRoaXMuZ2V0QXR0YWNobWVudHNGb2xkZXIoKTtcblx0XHRcdFx0Ly8gXHU1QzA2XHU2NUIwXHU4REVGXHU1Rjg0XHU0RTJEXHU3Njg0XHU3QTdBXHU2ODNDXHU4RjZDXHU2MzYyXHU0RTNBICUyMFxuXHRcdFx0XHRjb25zdCBuZXdQYXRoID0gbm9ybWFsaXplUGF0aChgJHthdHRhY2htZW50c0ZvbGRlcn0vJHtuZXdJbWFnZUxpbmtzW2ldfWApO1xuXHRcdFx0XHRjb25zdCBlbmNvZGVkTmV3UGF0aCA9IG5ld1BhdGgucmVwbGFjZSgvIC9nLCAnJTIwJyk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBcdTkxQ0RcdTU0N0RcdTU0MERcdTc3MUZcdTVCOUVcdTc2ODRcdTU2RkVcdTcyNDdcdTY1ODdcdTRFRjZcdUZGMENcdTRGN0ZcdTc1MjggYXBwLnZhdWx0LnJlbmFtZSBhcGlcblx0XHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQucmVuYW1lKGZpbGUsIG5ld1BhdGgpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU0RjdGXHU3NTI4XHU1MzlGXHU1OUNCXHU3Njg0IGltYWdlVXJsTWF0Y2hlcyBcdTRFMkRcdTc2ODRcdTk0RkVcdTYzQTVcdThGREJcdTg4NENcdTY2RkZcdTYzNjJcblx0XHRcdFx0Y29uc3Qgb3JpZ2luYWxVcmwgPSBpbWFnZVVybE1hdGNoZXNbaV1bMV07ICAvLyBcdTgzQjdcdTUzRDZcdTUzOUZcdTU5Q0JcdTk0RkVcdTYzQTVcblx0XHRcdFx0dXBkYXRlZENvbnRlbnQgPSB1cGRhdGVkQ29udGVudC5yZXBsYWNlKG9yaWdpbmFsVXJsLCBlbmNvZGVkTmV3UGF0aCk7XG5cdFx0XHRcdFxuXHRcdFx0XHRjb25zb2xlLmxvZyhgXHVEODNEXHVERDA0IFx1NTZGRVx1NzI0N1x1OTFDRFx1NTQ3RFx1NTQwRDogJHtvcmlnaW5hbFVybH0gLT4gJHtlbmNvZGVkTmV3UGF0aH1gKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0Ly8gXHU2MjQwXHU2NzA5XHU2NkZGXHU2MzYyXHU1QjhDXHU2MjEwXHU1NDBFXHVGRjBDXHU0RTAwXHU2QjIxXHU2MDI3XHU2NkY0XHU2NUIwXHU3QjE0XHU4QkIwXHU1MTg1XHU1QkI5XG5cdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQubW9kaWZ5KG5vdGUsIHVwZGF0ZWRDb250ZW50KTtcblx0fVxuXG5cdFxuXHQvLyBcdTY4QzBcdTY3RTVcdTY1ODdcdTRFRjZcdTY2MkZcdTU0MjZcdTY2MkZcdTU2RkVcdTcyNDdcbiAgICBpc0ltYWdlRmlsZShmaWxlOiBURmlsZSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBpbWFnZUV4dGVuc2lvbnMgPSBbJ3BuZycsICdqcGcnLCAnanBlZycsICdnaWYnLCAnYm1wJywgJ3dlYnAnXTtcbiAgICAgICAgcmV0dXJuIGltYWdlRXh0ZW5zaW9ucy5pbmNsdWRlcyhmaWxlLmV4dGVuc2lvbik7XG4gICAgfVxuXG5cdC8vIFx1OTFDRFx1NTQ3RFx1NTQwRFx1NTZGRVx1NzI0N1x1NjU4N1x1NEVGNlxuICAgIGFzeW5jIHJlbmFtZUltYWdlRmlsZShmaWxlOiBURmlsZSkge1xuICAgICAgICBjb25zdCBhdHRhY2htZW50c0ZvbGRlciA9IHRoaXMuZ2V0QXR0YWNobWVudHNGb2xkZXIoKTtcblx0XHQvLyBcdTZERkJcdTUyQTBcdTYyNTNcdTUzNzBcdThCRURcdTUzRTVcdUZGMENcdTUyQTBcdTUxNjVlbW9qaVx1NjZGNFx1NTk3RFx1NzcwQlx1RkYwQ1x1NjdFNVx1NzcwQmF0dGFjaG1lbnRzRm9sZGVyXHU3Njg0XHU1MDNDXG5cdFx0Y29uc29sZS5sb2coXCJcdUQ4M0RcdUREMjVhdHRhY2htZW50c0ZvbGRlclx1RkYxQVwiLGF0dGFjaG1lbnRzRm9sZGVyKVxuICAgICAgICBpZiAoIWZpbGUucGF0aC5zdGFydHNXaXRoKGF0dGFjaG1lbnRzRm9sZGVyKSkge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBcdTU5ODJcdTY3OUNcdTY1ODdcdTRFRjZcdTRFMERcdTU3MjggYXR0YWNobWVudHMgXHU2NTg3XHU0RUY2XHU1OTM5XHU0RTJEXHVGRjBDXHU0RTBEXHU1OTA0XHU3NDA2XG4gICAgICAgIH1cblx0XHRjb25zb2xlLmxvZyhcIlx1RDgzRFx1REQyNWZpbGVcdUZGMUFcIixmaWxlKVxuXG4gICAgICAgIGNvbnN0IGFjdGl2ZUZpbGUgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuICAgICAgICBpZiAoIWFjdGl2ZUZpbGUpIHtcbiAgICAgICAgICAgIHJldHVybjsgLy8gXHU1OTgyXHU2NzlDXHU2Q0ExXHU2NzA5XHU2MjUzXHU1RjAwXHU3Njg0XHU3QjE0XHU4QkIwXHVGRjBDXHU0RTBEXHU1OTA0XHU3NDA2XG4gICAgICAgIH1cblx0XHRjb25zb2xlLmxvZyhcIlx1RDgzRFx1REQyNVx1N0IxNFx1OEJCMFx1NzY4NGFjdGl2ZUZpbGVcdUZGMUFcIixhY3RpdmVGaWxlKVxuXG4gICAgICAgIGNvbnN0IG5vdGVOYW1lID0gYWN0aXZlRmlsZS5iYXNlbmFtZTsgLy8gXHU4M0I3XHU1M0Q2XHU1RjUzXHU1MjREXHU3QjE0XHU4QkIwXHU3Njg0XHU1NDBEXHU1QjU3XG5cdFx0Y29uc3Qgb2xkRmlsZU5hbWUgPSBmaWxlLm5hbWU7IC8vIFx1ODNCN1x1NTNENlx1NUY1M1x1NTI0RFx1NjU4N1x1NEVGNlx1NzY4NFx1NTQwRFx1NUI1N1xuXHRcdGNvbnNvbGUubG9nKFwiXHVEODNEXHVERDI1XHU2NTg3XHU0RUY2XHU3Njg0XHU2NUU3XHU1NDBEXHU1QjU3XHVGRjFBXCIsb2xkRmlsZU5hbWUpXG5cdFx0Y29uc29sZS5sb2coXCJcdUQ4M0RcdUREMjVcdTdCMTRcdThCQjBcdTc2ODRcdTU0MERcdTVCNTdcdUZGMUFcIixub3RlTmFtZSlcblxuICAgICAgICBjb25zdCBoYXNoID0gdGhpcy5nZW5lcmF0ZUhhc2goZmlsZS5uYW1lICsgRGF0ZS5ub3coKSk7IC8vIFx1NzUxRlx1NjIxMFx1NTRDOFx1NUUwQ1x1NTAzQ1xuICAgICAgICBjb25zdCBuZXdGaWxlTmFtZSA9IGAke25vdGVOYW1lfV8ke2hhc2h9LiR7ZmlsZS5leHRlbnNpb259YDsgLy8gXHU2NUIwXHU2NTg3XHU0RUY2XHU1NDBEXG5cdFx0Y29uc29sZS5sb2coXCJcdUQ4M0RcdUREMjVuZXdGaWxlTmFtZVx1RkYxQVwiLG5ld0ZpbGVOYW1lKVxuICAgICAgICBjb25zdCBuZXdQYXRoID0gbm9ybWFsaXplUGF0aChgJHthdHRhY2htZW50c0ZvbGRlcn0vJHtuZXdGaWxlTmFtZX1gKTsgLy8gXHU2NUIwXHU4REVGXHU1Rjg0XG5cbiAgICAgICAgLy8gXHU5MUNEXHU1NDdEXHU1NDBEXHU2NTg3XHU0RUY2XG4gICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlbmFtZShmaWxlLCBuZXdQYXRoKTtcblx0XHRjb25zb2xlLmxvZyhcIlx1RDgzRFx1REQyNW5ld1BhdGhcdUZGMUFcIixuZXdQYXRoKVxuXG5cdFx0Ly8gXHU2NkY0XHU2NUIwXHU3QjE0XHU4QkIwXHU5MUNDXHU5NzYyXHU3Njg0XHU1NkZFXHU3MjQ3XHU5NEZFXHU2M0E1XG5cdFx0YXdhaXQgdGhpcy51cGRhdGVJbWFnZUxpbmsoYWN0aXZlRmlsZSwgb2xkRmlsZU5hbWUsIG5ld0ZpbGVOYW1lKTtcblxuXHRcdC8vIFx1NjYzRVx1NzkzQVx1NjNEMFx1NzkzQVx1NEZFMVx1NjA2RlxuXHRcdG5ldyBOb3RpY2UoYFx1NTZGRVx1NzI0N1x1OTRGRVx1NjNBNVx1NjZGNFx1NjVCMFx1NEUzQVx1RkYxQSR7bmV3RmlsZU5hbWV9YCk7XG4gICAgfVxuXG4gICAgLy8gXHU4M0I3XHU1M0Q2IGF0dGFjaG1lbnRzIFx1NjU4N1x1NEVGNlx1NTkzOVx1OERFRlx1NUY4NFxuICAgIGdldEF0dGFjaG1lbnRzRm9sZGVyKCk6IHN0cmluZyB7XG4gICAgICAgIC8vIFx1NEY3Rlx1NzUyOCBhcHAudmF1bHQuZ2V0Q29uZmlnIFx1ODNCN1x1NTNENlx1OTY0NFx1NEVGNlx1NjU4N1x1NEVGNlx1NTkzOVx1OERFRlx1NUY4NFxuICAgICAgICBjb25zdCBhdHRhY2htZW50c0ZvbGRlciA9ICh0aGlzLmFwcC52YXVsdCBhcyBhbnkpLmdldENvbmZpZygnYXR0YWNobWVudEZvbGRlclBhdGgnKSB8fCAnYXR0YWNobWVudHMnO1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplUGF0aChhdHRhY2htZW50c0ZvbGRlcik7XG4gICAgfVxuXG4gICAgLy8gXHU3NTFGXHU2MjEwIDggXHU0RjREXHU1NEM4XHU1RTBDXHU1MDNDXG4gICAgZ2VuZXJhdGVIYXNoKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goJ21kNScpLnVwZGF0ZShpbnB1dCkuZGlnZXN0KCdoZXgnKS5zbGljZSgwLCA4KTtcbiAgICB9XG5cblx0YXN5bmMgdXBkYXRlSW1hZ2VMaW5rKG5vdGU6IFRGaWxlLCBvbGRGaWxlTmFtZTogc3RyaW5nLCBuZXdGaWxlTmFtZTogc3RyaW5nKSB7XG5cdFx0Y29uc29sZS5sb2coYFx1RDgzRFx1REQwRCBcdTVGMDBcdTU5Q0JcdTY2RjRcdTY1QjBcdTdCMTRcdThCQjAgKCR7bm90ZS5wYXRofSlcdUZGMENcdTY1RTdcdTY1ODdcdTRFRjZcdTU0MEQ6ICR7b2xkRmlsZU5hbWV9LCBcdTY1QjBcdTY1ODdcdTRFRjZcdTU0MEQ6ICR7bmV3RmlsZU5hbWV9YCk7XG5cdFxuXHRcdG9sZEZpbGVOYW1lID0gb2xkRmlsZU5hbWUucmVwbGFjZSgvIC9nLCAnJTIwJyk7XG5cblx0XHRsZXQgZm91bmRNYXRjaCA9IGZhbHNlO1xuXHRcdGxldCBhdHRlbXB0cyA9IDA7XG5cdFx0bGV0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKG5vdGUpO1xuXHRcdGNvbnNvbGUubG9nKFwiXHVEODNEXHVEQ0M0IFx1OEJGQlx1NTNENlx1N0IxNFx1OEJCMFx1NTE4NVx1NUJCOTpcXG5cIiwgY29udGVudCk7XG5cdFxuXHRcdC8vIFx1NkQ0Qlx1OEJENVx1NzUyOFx1NjVGNlxuXHRcdGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcblx0XHQvLyBcdTZCQ0YgNTAgbXMgXHU2OEMwXHU2N0U1XHU0RTAwXHU2QjIxXHVGRjBDXHU2NzAwXHU1OTFBIDEwMCBcdTZCMjFcblx0XHR3aGlsZSAoYXR0ZW1wdHMgPCAxMDApIHtcblx0XHRcdGlmIChjb250ZW50LmluY2x1ZGVzKG9sZEZpbGVOYW1lKSkge1xuXHRcdFx0XHRmb3VuZE1hdGNoID0gdHJ1ZTtcblx0XHRcdFx0Ly9cdTYyNTNcdTUzNzBcdTdFRDNcdTY3NUZcdTY1RjZcdTk1RjRcdUZGMENcdTY4M0NcdTVGMEZcdTUzMTZcdTRFM0FcdTc5RDJcblx0XHRcdFx0Y29uc3QgZW5kID0gRGF0ZS5ub3coKTtcblx0XHRcdFx0Y29uc29sZS5sb2coYFx1RDgzRFx1REQ1MiBcdTY2RjRcdTY1QjBcdTdCMTRcdThCQjBcdTk0RkVcdTYzQTVcdTc1MjhcdTY1RjY6ICR7KGVuZCAtIHN0YXJ0KSAvIDEwMDB9IFx1NzlEMmApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGNvbnNvbGUubG9nKGBcdTIzRjMgXHU3QjQ5XHU1Rjg1XHU1NkZFXHU3MjQ3XHU5NEZFXHU2M0E1XHU3NTFGXHU2MjEwLi4uIFx1NUMxRFx1OEJENSAke2F0dGVtcHRzICsgMX1gKTtcblx0XHRcdGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MCkpOyAgLy8gXHU1RUY2XHU2NUY2IDUwIFx1NkJFQlx1NzlEMlxuXHRcdFx0Y29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQobm90ZSk7XG5cdFx0XHRhdHRlbXB0cysrO1xuXHRcdFx0Y29uc29sZS5sb2coXCJcdUQ4M0RcdURDQzQgXHU4QkZCXHU1M0Q2XHU3QjE0XHU4QkIwXHU1MTg1XHU1QkI5OlxcblwiLCBjb250ZW50KTtcblx0XHR9XG5cdFxuXHRcdGlmIChmb3VuZE1hdGNoKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIlx1MjcwRlx1RkUwRiBcdTY2RjRcdTY1QjAgTWFya2Rvd24gXHU0RTJEXHU3Njg0XHU1NkZFXHU3MjQ3XHU5NEZFXHU2M0E1Li4uXCIpO1xuXHRcdFx0Y29uc3QgdXBkYXRlZENvbnRlbnQgPSBjb250ZW50LnJlcGxhY2Uob2xkRmlsZU5hbWUsIG5ld0ZpbGVOYW1lKTtcblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0Lm1vZGlmeShub3RlLCB1cGRhdGVkQ29udGVudCk7XG5cdFx0XHRjb25zb2xlLmxvZyhcIlx1MjcwNSBcdTU2RkVcdTcyNDdcdTVGMTVcdTc1MjhcdTY2RjRcdTY1QjBcdTVCOENcdTYyMTBcIik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUubG9nKFwiXHUyNzRDIFx1NTZGRVx1NzI0N1x1OTRGRVx1NjNBNVx1NjcyQVx1NzUxRlx1NjIxMFx1RkYwQ1x1OERGM1x1OEZDN1x1NjZGNFx1NjVCMFwiKTtcblx0XHR9XG5cdH1cblxufVxuXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQUFpSDtBQUNqSCxhQUF3QjtBQUl4QixJQUFxQixXQUFyQixjQUFzQyx1QkFBTztBQUFBLEVBRTVDLE1BQU0sU0FBUztBQUVkLFNBQUssV0FBVztBQUFBLE1BQ2YsSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sTUFBTTtBQUFBO0FBQUEsTUFDTixVQUFVLFlBQVk7QUFDckIsY0FBTSxhQUFhLEtBQUssSUFBSSxVQUFVLG9CQUFvQiw0QkFBWTtBQUN0RSxZQUFJLFlBQVk7QUFDZixnQkFBTSxPQUFPLFdB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QWEsT0FBTztBQUdoQyxVQUFNLEtBQUssZ0JBQWdCLFlBQVksYUFBYSxXQUFXO0FBRy9ELFFBQUksdUJBQU8sbURBQVcsYUFBYTtBQUFBLEVBQ2pDO0FBQUE7QUFBQSxFQUdBLHVCQUErQjtBQUUzQixVQUFNLG9CQUFxQixLQUFLLElBQUksTUFBYyxVQUFVLHNCQUFzQixLQUFLO0FBQ3ZGLGVBQU8sK0JBQWMsaUJBQWlCO0FBQUEsRUFDMUM7QUFBQTtBQUFBLEVBR0EsYUFBYSxPQUF1QjtBQUNoQyxXQUFjLGtCQUFXLEtBQUssRUFBRSxPQUFPLEtBQUssRUFBRSxPQUFPLEtBQUssRUFBRSxNQUFNLEdBQUcsQ0FBQztBQUFBLEVBQzFFO0FBQUEsRUFFSCxNQUFNLGdCQUFnQixNQUFhLGFBQXFCLGFBQXFCO0FBQzVFLFlBQVEsSUFBSSxtREFBYyxLQUFLLHdDQUFlLDBDQUFzQixhQUFhO0FBRWpGLGtCQUFjLFlBQVksUUFBUSxNQUFNLEtBQUs7QUFFN0MsUUFBSSxhQUFhO0FBQ2pCLFFBQUksV0FBVztBQUNmLFFBQUksVUFBVSxNQUFNLEtBQUssSUFBSSxNQUFNLEtBQUssSUFBSTtBQUM1QyxZQUFRLElBQUkscURBQWdCLE9BQU87QUFHbkMsVUFBTSxRQUFRLEtBQUssSUFBSTtBQUV2QixXQUFPLFdBQVcsS0FBSztBQUN0QixVQUFJLFFBQVEsU0FBUyxXQUFXLEdBQUc7QUFDbEMscUJBQWE7QUFFYixjQUFNLE1BQU0sS0FBSyxJQUFJO0FBQ3JCLGdCQUFRLElBQUksZ0VBQWlCLE1BQU0sU0FBUyxZQUFRO0FBQ3BEO0FBQUEsTUFDRDtBQUNBLGNBQVEsSUFBSSwyRUFBb0IsV0FBVyxHQUFHO0FBQzlDLFlBQU0sSUFBSSxRQUFRLGFBQVcsV0FBVyxTQUFTLEVBQUUsQ0FBQztBQUNwRCxnQkFBVSxNQUFNLEtBQUssSUFBSSxNQUFNLEtBQUssSUFBSTtBQUN4QztBQUNBLGNBQVEsSUFBSSxxREFBZ0IsT0FBTztBQUFBLElBQ3BDO0FBRUEsUUFBSSxZQUFZO0FBQ2YsY0FBUSxJQUFJLDRFQUEwQjtBQUN0QyxZQUFNLGlCQUFpQixRQUFRLFFBQVEsYUFBYSxXQUFXO0FBQy9ELFlBQU0sS0FBSyxJQUFJLE1BQU0sT0FBTyxNQUFNLGNBQWM7QUFDaEQsY0FBUSxJQUFJLHlEQUFZO0FBQUEsSUFDekIsT0FBTztBQUNOLGNBQVEsSUFBSSxpRkFBZ0I7QUFBQSxJQUM3QjtBQUFBLEVBQ0Q7QUFFRDsiLAogICJuYW1lcyI6IFsibmV3RmlsZU5hbWUiXQp9Cg==
